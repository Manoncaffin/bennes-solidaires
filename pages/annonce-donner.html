<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="Description"
        content="Bennes solidaires est un outils dédié à l'économie circulaire des matériaux bio et géo-sourcés">
    <meta name="Keywords" content="Économie circulaire, plateforme de dons, matériaux bio et géo-sourcés">
    <meta name="Copyright" content="Bennes solidaires">
    <meta name="Author" content="Bennes solidaires">
    <meta name="Revisit-After" content="15 days">
    <meta name="Robots" content="All">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="../appearance/annonce-donner.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
    <link href="https://api.fontshare.com/v2/css?f[]=excon@400,900,700,500,300,100,1&display=swap" rel="stylesheet">
    <link rel="icon" href="../images/BS.webp" type="image/x-icon">
    <title>Bennes Solidaires - créer une annonce</title>
</head>

<body>

    <header id="header">
        <div class="container_menu">
            <div>
                <a href="./homepage.html" class="logo"><img src="../images/Bennes-solidaires.webp"
                        alt="Bennes solidaires"></a>
            </div>
            <div class="navbar">
                <ul class="links">
                    <li><a href="./homepage.html">ACCUEIL</a></li>
                    <li><a href="./homepage.html#deposer">DÉPOSER UNE ANNONCE</a></li>
                    <li><a href="./connexion.html">CONNEXION</a></li>
                    <li><a href="./homepage.html#adhesion">ADHÉSION</a></li>
                    <li><a href="./homepage.html#contact">CONTACT</a></li>
                </ul>

                <div class="burger-menu-button" id="nav-toggle">
                    <i class="fa-solid fa-bars"></i>
                </div>
            </div>
        </div>

        <div class="burger-menu" id="nav-menu">
            <ul class="links">
                <li><a href="./homepage.html">ACCUEIL</a></li>
                <li><a href="./homepage.html#deposer">DÉPOSER UNE ANNONCE</a></li>
                <li><a href="./connexion.html">CONNEXION</a></li>
                <li><a href="./homepage.html#adhesion">ADHÉSION</a></li>
                <li><a href="./homepage.html#contact">CONTACT</a></li>
            </ul>
        </div>
    </header>


    <main>

        <div class="container">
            <section id="inscription">
                <div class="scrolling-text-container">
                    <p class="scrolling-text">Je donne un matériau</p>
                    <p class="scrolling-text">Je donne un matériau</p>
                    <p class="scrolling-text">Je donne un matériau</p>
                    <p class="scrolling-text">Je donne un matériau</p>
                </div>
                <div class="bordure mb-4"></div>

                <form action="#" method="POST">
                    <label for="classification-select" class="classification-select">Classification</label>
                    <select name="classification" id="classification-select" required>
                        <option value="">--</option>
                        <option value="Matériau bio-sourcé">Matériau bio-sourcé</option>
                        <option value="Matériau géo-sourcé">Matériau géo-sourcé</option>
                    </select>

                    <label for="materiau-geo-select" class="materiau-select-geo"
                        style="display: none;">Matériaux</label>
                    <select name="materiau-geo-select" id="materiau-geo-select" style="display: none;" required>
                        <option value="">--</option>
                        <option value="materiau geo-source">terre</option>
                        <option value="materiau geo-source">pierre</option>
                        <option value="materiau geo-source">gravier</option>
                        <option value="materiau geo-source">sable</option>
                        <option value="materiau geo-source">verre</option>
                        <option value="materiau geo-source">céramique</option>
                    </select>

                    <label for="materiau-bio-select" class="materiau-select-bio"
                        style="display: none;">Matériaux</label>
                    <select name="materiau-bio-select" id="materiau-bio-select" style="display: none;" required>
                        <option value="">--</option>
                        <option value="materiau bio-source">bois</option>
                        <option value="materiau bio-source">papier</option>
                        <option value="materiau bio-source">papier-journal</option>
                        <option value="materiau bio-source">paille</option>
                        <option value="materiau bio-source">canne-de-provence</option>
                        <option value="materiau bio-source">bambou</option>
                        <option value="materiau bio-source">sciure de bois</option>
                        <option value="materiau bio-source">liège</option>
                        <option value="materiau bio-source">coquille d'huître</option>
                        <option value="materiau bio-source">coquille d'escargot</option>
                        <option value="materiau bio-source">marc de café</option>
                    </select>

                    <div class="quantity">
                        <label for="number" class="quantity-select">Quantité</label>
                        <select name="number-select" id="quantity-select" required>
                            <option value="">--</option>
                            <option value=""></option>
                            <option value=""></option>
                        </select>

                        <label for="value" class="value-select">Valeur</label>
                        <select name="value" id="value-select" required>
                            <option value="">--</option>
                            <option value="kg">kg</option>
                            <option value="kg">tonnes</option>
                            <option value="sceau">seau(x)</option>
                            <option value="metres">mètre(s) linéaire(s)</option>
                            <option value="metres carres">mètre(s) carré(s)</option>
                            <option value="metres cubes">mètre(s) cube(s)</option>
                        </select>
                    </div>

                    <div class="file">
                        <label for="file">Joindre des photos</label>
                        <input id="file" type="file" name="file" placeholder="Choisir un fichier" required>
                    </div>

                    <label for="description">Description</label>
                    <input id="description" type="textarea" name="description"
                        placeholder="Entrez votre description ici" required>

                    <label for="geographical">Localisation</label>
                    <input id="geographical" type="text" name="geographical" placeholder="Entrez un code postal"
                        required>

                    <div class="checkbox pt-3 pb-4">
                        <input type="radio" id="registration" name="user-type" value="registration">
                        <label for="registration">Je souhaite m’enregistrer pour une prochaine fois</label>
                    </div>

                    <div class="foot_form">
                        <input type="submit" value="Valider mon annonce">
                    </div>
                </form>
            </section>
        </div>

    </main>

    <script>
        // SCRIPT NAVBAR / OPEN-BURGER AND HIDDEN SCROLLING-TEXT
        const burgerMenuButton = document.querySelector('.burger-menu-button');
        const burgerMenuButtonIcon = document.querySelector('.burger-menu-button i');
        const burgerMenu = document.querySelector('.burger-menu');
        const navLinks = document.querySelectorAll('.links a');
        const scrollingTextContainers = document.querySelectorAll('.scrolling-text-container');

        burgerMenuButton.onclick = function () {
            burgerMenu.classList.toggle('open');
            const isOpen = burgerMenu.classList.contains('open');
            burgerMenuButtonIcon.classList = isOpen ? 'fa-solid fa-xmark' : 'fa-solid fa-bars';

            // Add or remove the class to hide the scrolling text containers based on the menu state
            scrollingTextContainers.forEach(container => {
                container.classList.toggle('hide-on-menu-open', isOpen);
            });
        }

        navLinks.forEach(link => {
            link.addEventListener('click', () => {
                burgerMenu.classList.remove('open');
                burgerMenuButtonIcon.classList = 'fa-solid fa-bars';
            });
        });
        // SCRIPT NAVBAR / OPEN-BURGER AND HIDDEN SCROLLING-TEXT

        // SCRIPT SELECT MATÉRIAU
        const classificationSelect = document.getElementById('classification-select');
        const materiauGeoSelect = document.getElementById('materiau-geo-select');
        const materiauBioSelect = document.getElementById('materiau-bio-select');
        const materiauGeoLabel = document.querySelector('.materiau-select-geo');
        const materiauBioLabel = document.querySelector('.materiau-select-bio');

        classificationSelect.addEventListener('change', function () {
            if (this.value === 'Matériau géo-sourcé') {
                materiauGeoSelect.style.display = 'block';
                materiauBioSelect.style.display = 'none';
                materiauGeoLabel.style.display = 'block';
                materiauBioLabel.style.display = 'none';
            } else if (this.value === 'Matériau bio-sourcé') {
                materiauGeoSelect.style.display = 'none';
                materiauBioSelect.style.display = 'block';
                materiauGeoLabel.style.display = 'none';
                materiauBioLabel.style.display = 'block';
            } else {
                materiauGeoSelect.style.display = 'none';
                materiauBioSelect.style.display = 'none';
                materiauGeoLabel.style.display = 'none';
                materiauBioLabel.style.display = 'none';
            }
        });
        // SCRIPT SELECT MATÉRIAU

        // SCRIPT QUANTITY
        const select = document.getElementById("quantity-select");
        const maxNumber = 1000; // Spécifiez ici le nombre maximum souhaité

        for (let i = 1; i <= maxNumber; i++) {
            const option = document.createElement("option");
            option.text = i;
            option.value = i;
            select.appendChild(option);
        }
        // SCRIPT QUANTITY

        // SEARCH CITY
        let searchTimeout;

    document.getElementById("geographical").addEventListener("input", function() {
        const postalCode = this.value.trim();
        clearTimeout(searchTimeout); // Pour éviter les requêtes multiples pendant la saisie

        // Attendez un court délai après la saisie avant de déclencher la recherche
        searchTimeout = setTimeout(() => {
            if (postalCode.length === 5 && /^\d+$/.test(postalCode)) { // Vérifie si le code postal est valide
                const url = 'https://nominatim.openstreetmap.org/search?format=json&postalcode=' + encodeURIComponent(postalCode);

                fetch(url)
                .then(response => response.json())
                .then(data => {
                    if (data && data.length > 0) {
                        const city = data[0].display_name;
                        // Remplir le champ avec la ville trouvée
                        document.getElementById("geographical").value = city;
                    } else {
                        alert("Aucune ville trouvée pour ce code postal");
                    }
                })
                .catch(error => {
                    console.error('Erreur lors de la recherche de ville par code postal :', error);
                    alert("Une erreur s'est produite lors de la recherche de ville par code postal");
                });
            } else {
                // Code postal invalide, afficher un prompt d'erreur
                alert("Veuillez entrer un code postal valide (5 chiffres).");
            }
        }, 500); // Délai de 500 millisecondes avant de déclencher la recherche
    });
    // SEARCH CITY
    </script>

</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"></script>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=VOTRE_CLE_API&libraries=places"></script>
</body>

</html>